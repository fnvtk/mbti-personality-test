<!--pages/ai-test/result.wxml - AIåˆ†æç»“æœ-->
<view class="container">
  <!-- åˆ†æä¸­çŠ¶æ€ -->
  <view class="analyzing" wx:if="{{isAnalyzing}}">
    <view class="analyzing-animation">
      <view class="analyzing-circle"></view>
      <view class="analyzing-circle delay-1"></view>
      <view class="analyzing-circle delay-2"></view>
    </view>
    <text class="analyzing-title">AIæ­£åœ¨åˆ†æä¸­...</text>
    <text class="analyzing-progress">{{progress}}%</text>
    <view class="analyzing-bar">
      <view class="analyzing-bar-fill" style="width: {{progress}}%"></view>
    </view>
    <text class="analyzing-tip">{{analyzingTip}}</text>
  </view>

  <!-- åˆ†æç»“æœ -->
  <view class="result" wx:else>
    <!-- ç»¼åˆç±»å‹å¡ç‰‡ -->
    <view class="result-card main-card">
      <view class="main-types">
        <view class="type-badge mbti">
          <text class="type-label">MBTI</text>
          <text class="type-value">{{result.mbti}}</text>
        </view>
        <view class="type-badge pdp">
          <text class="type-emoji">{{result.pdpEmoji}}</text>
          <text class="type-value">{{result.pdp}}</text>
        </view>
        <view class="type-badge disc">
          <text class="type-label">DISC</text>
          <text class="type-value">{{result.disc}}å‹</text>
        </view>
      </view>
      <text class="result-title">{{result.title}}</text>
      <text class="result-summary">{{result.summary}}</text>
    </view>

    <!-- æ€§æ ¼ç‰¹ç‚¹ -->
    <view class="result-card">
      <text class="card-title">âœ¨ æ ¸å¿ƒç‰¹è´¨</text>
      <view class="traits-list">
        <view class="trait-item" wx:for="{{result.traits}}" wx:key="*this">
          <text class="trait-text">{{item}}</text>
        </view>
      </view>
    </view>

    <!-- é¢ç›¸åˆ†æ -->
    <view class="result-card">
      <text class="card-title">ğŸ‘ï¸ é¢ç›¸åˆ†æ</text>
      <text class="card-content">{{result.faceAnalysis}}</text>
    </view>

    <!-- èŒä¸šå»ºè®® -->
    <view class="result-card">
      <text class="card-title">ğŸ’¼ èŒä¸šå»ºè®®</text>
      <view class="career-list">
        <view class="career-tag" wx:for="{{result.careers}}" wx:key="*this">
          <text>{{item}}</text>
        </view>
      </view>
    </view>

    <!-- äººé™…å…³ç³» -->
    <view class="result-card">
      <text class="card-title">ğŸ’• äººé™…å…³ç³»</text>
      <text class="card-content">{{result.relationship}}</text>
    </view>

    <!-- æ“ä½œæŒ‰é’® -->
    <view class="action-section">
      <view class="btn btn-primary" bindtap="shareResult">
        <text class="btn-text">åˆ†äº«æˆ‘çš„åˆ†ææŠ¥å‘Š</text>
      </view>
      <view class="btn btn-outline" bindtap="retake">
        <text class="btn-text-outline">é‡æ–°åˆ†æ</text>
      </view>
      <view class="btn btn-outline" bindtap="goHome">
        <text class="btn-text-outline">è¿”å›é¦–é¡µ</text>
      </view>
    </view>
  </view>
</view>
